1                                                          The SAS System                             19:48 Sunday, October 13, 2013

1          ;*';*";*/;quit;run;
2          OPTIONS PAGENO=MIN;
3          %LET _CLIENTTASKLABEL='BuildTransactionSummaryCubeFULL v2';
4          %LET _CLIENTPROJECTPATH='';
5          %LET _CLIENTPROJECTNAME='';
6          %LET _SASPROGRAMFILE='/projects/SGF2013/programs/BuildTransactionSummaryCubeFULL v2.sas';
7          
8          ODS _ALL_ CLOSE;
9          OPTIONS DEV=ACTIVEX;
10         GOPTIONS XPIXELS=0 YPIXELS=0;
11         FILENAME EGHTML TEMP;
12         ODS HTML(ID=EGHTML) FILE=EGHTML
13             ENCODING='utf-8'
14             STYLE=HtmlBlue
15             STYLESHEET=(URL="file:///D:/SAS94/SASEnterpriseGuide/6.1/Styles/HtmlBlue.css")
16             ATTRIBUTES=("CODEBASE"="http://www2.sas.com/codebase/graph/v94/sasgraph.exe#version=9,4")
17             NOGTITLE
18             NOGFOOTNOTE
19             GPATH=&sasworklocation
20         ;
NOTE: Writing HTML(EGHTML) Body file: EGHTML
21         
22         GOPTIONS ACCESSIBLE;
23         /*------------------------------------------------------------------------------------------
24           PROGRAMMER   : Stephen Overton (SAS Institute Partner) (soverton@overtontechnologies.com)
25           PURPOSE      : Build Transaction Analysis OLAP cube. Cube summarizes transactions over
26                          time by transaction date, party, account, type. Include custom analytical
27                          measures, members, and sets using MDX.
28         
29         Support Notes:
30         - http://support.sas.com/kb/19/363.html
31         - http://support.sas.com/kb/38/978.html
32         - http://support.sas.com/documentation/cdl/en/biasag/61237/HTML/default/viewer.htm#a003145996.htm
33         - http://ftp.sas.com/techsup/download/hotfix/HF2/J46.html#48152
34         
35         |------------------------------------------------------------------------------------------|
36         |  MAINTENANCE HISTORY                                                                     |
37         |------------------------------------------------------------------------------------------|
38         |  DATE    |     BY    | DESCRIPTION OF CHANGE                                             |
ODBC: AUTOCOMMIT is NO for connection 0
39         |----------|-----------|-------------------------------------------------------------------|
40         | 3/18/13  |  SteveO   | Initial release
41         |-----------------------------------------------------------------------------------------*/
42         LIBNAME defiant ODBC READBUFF=1000 DATASRC=defiant SCHEMA=public;
NOTE: Libref DEFIANT was successfully assigned as follows: 
      Engine:        ODBC 
      Physical Name: defiant
43         
44         %let cube = /Projects/SGF2013/Cubes/Transaction Summary;
45         %let syscc=0;
46         
47         %put ****** START cube build process ******;
****** START cube build process ******
48         proc olap
49            CUBE                   = "&cube"
50            DELETE;
51         
52            METASVR
2                                                          The SAS System                             19:48 Sunday, October 13, 2013

53               HOST        = "enterprise"
54               PORT        = 8561
55               OLAP_SCHEMA = "SASApp - OLAP Schema";
56         
57         run;

NOTE: The cube registration was found.
NOTE: The cube registration was deleted.
NOTE: Cube "Transaction Summary" was deleted.
NOTE: PROCEDURE OLAP used (Total process time):
      real time           1.17 seconds
      user cpu time       0.04 seconds
      system cpu time     0.04 seconds
      memory              64.81k
      OS Memory           24728.00k
      Timestamp           10/14/2013 08:09:09 PM
      Step Count                        22  Switch Count  178
      Page Faults                       1
      Page Reclaims                     416
      Page Swaps                        0
      Voluntary Context Switches        921
      Involuntary Context Switches      132
      Block Input Operations            808
      Block Output Operations           24
      

58         
59         options fullstimer fmterr;
60         options SASTRACE=',,,ds' sastraceloc=saslog nostsuffix;
61         %let syssumtrace=3;
62         
63         proc options group=performance; run;

    SAS (r) Proprietary Software Release 9.4  TS1M0


Group=PERFORMANCE
 ARMAGENT=         Specifies an ARM agent (which is an executable module or keyword, such as LOG4SAS) that contains a specific 
                   implementation of the ARM API.
 ARMLOC=ARMLOG.LOG Specifies the location of the ARM log.
 ARMSUBSYS=(ARM_NONE)
                   Specifies the SAS ARM subsystems to enable or disable.
 BUFNO=1           Specifies the number of buffers for processing SAS data sets.
 BUFSIZE=262144    Specifies the size of a buffer page for output SAS data sets.
 CGOPTIMIZE=3      Specifies the level of optimization to perform during code compilation.
 CMPMODEL=BOTH     Specifies the output model type for the MODEL procedure.
 CMPOPT=(NOEXTRAMATH NOMISSCHECK NOPRECISE NOGUARDCHECK NOGENSYMNAMES NOFUNCDIFFERENCING)
                   Specifies the type of code-generation optimizations to use in the SAS language compiler.
 COMPRESS=NO       Specifies the type of compression to use for observations in output SAS data sets.
 CPUCOUNT=6        Specifies the number of processors that thread-enabled applications should assume are available for concurrent 
                   processing.
 NODBIDIRECTEXEC   The SQL pass-through facility does not optimize the handling of SQL statements.
 DBSLICEPARM=(THREADED_APPS, 2)
                   Specifies whether SAS procedures, applications, and the DATA step can read DBMS tables in parallel, and the 
                   number of threads to use to read the DBMS tables.
 MAXSEGRATIO=75    Specifies the upper limit for the percentage of index segments that the SPD Engine identifies as containing the 
                   value referenced in the WHERE expression.
 MEXECSIZE=65536   Specifies the maximum macro size that can be executed in memory.
3                                                          The SAS System                             19:48 Sunday, October 13, 2013

 MINPARTSIZE=16777216
                   Specifies the minimum size of the data component partitions for SPD Engine data sets.
 SORTSIZE=16106127360
                   Specifies the amount of memory that is available to the SORT procedure.
 NOSPDEFILECACHE   Disables caching of opened SPD Engine files.
 SPDEINDEXSORTSIZE=33554432
                   Specifies the memory size for sorting index values.
 SPDEMAXTHREADS=2  Specifies the maximum number of threads that the SPD Engine can spawn for I/O processing.
 SPDESORTSIZE=33554432
                   Specifies the memory size that is used for sorting by the SPD Engine.
 SPDEUTILLOC=      Specifies one or more locations where the SPD Engine can temporarily store utility files.
 SPDEWHEVAL=COST   Specifies the WHERE statement evaluation process for the SPD Engine.
 SQLGENERATION=(NONE DBMS='TERADATA DB2 ORACLE NETEZZA ASTER GREENPLM HADOOP')
                   Specifies whether and when SAS procedures generate SQL for in-database processing of source data.
 SQLREDUCEPUT=DBMS For PROC SQL, specifies the engine type to use to optimize a PUT function in a query.
 SQLREDUCEPUTOBS=0 For PROC SQL, specifies the minimum number of observations that must be in a table for PROC SQL to optimize the 
                   PUT function in a query.
 SQLREDUCEPUTVALUES=0
                   For PROC SQL, specifies the maximum number of SAS format values that can exist in a PUT function expression to 
                   optimize the PUT function in a query.
 STRIPESIZE=       Specifies path and size pairs to identify I/O device stripe size.  Stripe size indicates page size when creating 
                   a data set or utility file.
 THREADS           Uses threaded processing for SAS applications that support it.
 UTILLOC=WORK      Specifies one or more file system locations in which threaded applications can store utility files.
 WORK=/tmp/SAS_workDAB100002B37_enterprise/SAS_workDCE700002B37_enterprise
                   Specifies the libref or location of the Work library.
 ALIGNSASIOFILES   Aligns SAS files on a page boundary for improved performance.
 MEMSIZE=21474836480
                   Specifies the limit on the amount of virtual memory that can be used during a SAS session.
NOTE: PROCEDURE OPTIONS used (Total process time):
      real time           0.01 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              45.21k
      OS Memory           24728.00k
      Timestamp           10/14/2013 08:09:09 PM
      Step Count                        23  Switch Count  130
      Page Faults                       0
      Page Reclaims                     0
      Page Swaps                        0
      Voluntary Context Switches        464
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           16
      

64         
65         %errorcheck;
Current SYSCC = 0
66         proc olap
67            CUBE                   = "&cube"
ODBC: AUTOCOMMIT turned ON for connection id 0
 
ODBC_1: Prepared: on connection 0
SELECT * FROM public.FACT_TRANSACTIONS
 
68            PATH                   = '/projects/SGF2013/cubes'
69            DESCRIPTION            = 'Transaction Summary demo cube for SGF2013'
4                                                          The SAS System                             19:48 Sunday, October 13, 2013

70            FACT                   = defiant.FACT_TRANSACTIONS
71            CONCURRENT             = 4
72            ASYNCINDEXLIMIT        = 2
73            MAXTHREADS             = 2
74            EMPTY_CHAR             = '!UNKNOWN'
75            TEST_LEVEL             = 26
76            NO_NWAY
77         ;
78         
79            METASVR
80               HOST        = "enterprise"
81               PORT        = 8561
82               OLAP_SCHEMA = "SASApp - OLAP Schema";
83         
84             DIMENSION 'Transaction Date'n
85               CAPTION          = 'Transaction Date'
86               TYPE             = TIME
87               SORT_ORDER       = ASCENDING
88               HIERARCHIES      = ( 'Month Year'n 'Year > Month'n  );
89         
90               HIERARCHY 'Month Year'n
91                  ALL_MEMBER = 'All Years'
92                  CAPTION    = 'Month-Year'
93                  LEVELS     = ( MonthYear )
94                  DEFAULT;
95         
96               HIERARCHY 'Year > Month'n
97                  ALL_MEMBER = 'All Years'
98                  CAPTION    = 'Year > Month'
99                  LEVELS     = ( Year Month );
100        
101              LEVEL Year
102                 COLUMN         =  transaction_date
103                 FORMAT         =  YEAR4.
104                 TYPE           =  YEAR
105                 CAPTION        =  'Year'
106                 SORT_ORDER     =  ASCENDING;
107        
108              LEVEL Month
109                 COLUMN         =  transaction_date
110                 FORMAT         =  MONNAME3.
111                 TYPE           =  MONTHS
112                 CAPTION        =  'Month'
113                 SORT_ORDER     =  ASCENDING;
114        
115              LEVEL MonthYear
116                 COLUMN         =  transaction_date
117                 FORMAT         =  MONYY7.
118                 TYPE           =  MONTHS
119                 CAPTION        =  'Month Year'
120                 SORT_ORDER     =  ASCENDING;
121        
122           DIMENSION 'Transaction Type'n
 
ODBC_2: Prepared: on connection 0
SELECT * FROM public.DIM_TRANSACTION_TYPE
 
123              CAPTION          = 'Transaction Type'
5                                                          The SAS System                             19:48 Sunday, October 13, 2013

124              SORT_ORDER       = ASCENDING
125              DIMTBL           = defiant.DIM_TRANSACTION_TYPE
126              DIMKEY           = transaction_type_key
127              FACTKEY          = transaction_type_key
128              HIERARCHIES      = ( 'Transaction Type'n );
129        
130              HIERARCHY  'Transaction Type'n
131                 ALL_MEMBER = 'All Transaction Types'
132                 CAPTION    = 'Type > Category'
133                 LEVELS     = ( TransactionType TransactionCategory )
134                 DEFAULT;
135        
136              LEVEL TransactionType
137                 COLUMN         = transaction_type
138                 CAPTION        =  'Type'
139                 SORT_ORDER     =  ASCENDING;
140        
141              LEVEL TransactionCategory
142                 COLUMN         = transaction_category
143                 CAPTION        =  'Category'
144                 SORT_ORDER     =  ASCENDING;
145        
146           DIMENSION Location
 
ODBC_3: Prepared: on connection 0
SELECT * FROM public.DIM_LOCATION
 
147              CAPTION          = 'Location'
148              SORT_ORDER       = ASCENDING
149              DIMTBL           = defiant.DIM_LOCATION
150              DIMKEY           = location_key
151              FACTKEY          = location_key
152              HIERARCHIES      = ( Location );
153        
154              HIERARCHY Location
155                 ALL_MEMBER = 'All States'
156                 CAPTION    = 'State > County > City'
157                 LEVELS     = ( State County City )
158                 DEFAULT;
159        
160              LEVEL State
161                 CAPTION        =  'State'
162                 SORT_ORDER     =  ASCENDING;
163        
164              LEVEL County
165                 CAPTION        =  'County'
166                 SORT_ORDER     =  ASCENDING;
167        
168              LEVEL City
169                 CAPTION        =  'City'
170                 SORT_ORDER     =  ASCENDING;
171        
172           DIMENSION 'Party Account'n
 
ODBC_4: Prepared: on connection 0
SELECT * FROM public.DIM_PARTY_ACCOUNT
 
173              CAPTION          = 'Party Account'
6                                                          The SAS System                             19:48 Sunday, October 13, 2013

174              SORT_ORDER       = ASCENDING
175              DIMTBL           = defiant.DIM_PARTY_ACCOUNT
176              DIMKEY           = party_account_key
177              FACTKEY          = party_account_key
178              HIERARCHIES      = ( 'Party Type > Party > Account'n
179                                   'NAICS Code > Party > Account'n
180                                   'Party > Account'n
181                                   'Party Number'n
182                                   'Type > NAICS > Party > Account'n
183                                    'Account Number'n );
184        
185              HIERARCHY  'Party Type > Party > Account'n
186                 ALL_MEMBER = 'All Party Types'
187                 CAPTION    = 'Party Type > Party Number > Account Number'
188                 LEVELS     = ( PartyType PartyNumber AccountNumber )
189                 DEFAULT;
190        
191              HIERARCHY  'NAICS Code > Party > Account'n
192                 ALL_MEMBER = 'All NAICS Codes'
193                 CAPTION    = 'NAICS Code > Party Number > Account Number'
194                 LEVELS     = ( NAICS PartyNumber AccountNumber );
195        
196              HIERARCHY  'Party > Account'n
197                 ALL_MEMBER = 'All Party Numbers'
198                 CAPTION    = 'Party Number > Account Number'
199                 LEVELS     = ( PartyNumber AccountNumber );
200        
201              HIERARCHY  'Party Number'n
202                 ALL_MEMBER = 'All Party Numbers'
203                 CAPTION    = 'Party Number'
204                 LEVELS     = ( PartyNumber );
205        
206              HIERARCHY  'Type > NAICS > Party > Account'n
207                 ALL_MEMBER = 'All Party Types'
208                 CAPTION    = 'Party Type > NAICS Code > Party Number > Account Number'
209                 LEVELS     = ( PartyType NAICS PartyNumber AccountNumber );
210        
211              HIERARCHY  'Account Number'n
212                 ALL_MEMBER = 'All Account Numbers'
213                 CAPTION    = 'Account Number'
214                 LEVELS     = ( AccountNumber );
215        
216              LEVEL PartyNumber
217                 COLUMN         = party_number
218                 CAPTION        =  'Party Number'
219                 SORT_ORDER     =  ASCENDING
220                 EMPTY          = '!UNKNOWN';
221        
222              LEVEL AccountNumber
223                 COLUMN         = account_number
224                 CAPTION        =  'Account Number'
225                 SORT_ORDER     =  ASCENDING
226                 EMPTY          = '!UNKNOWN';
227        
228              LEVEL PartyType
229                 COLUMN         = party_type
230                 CAPTION        =  'Party Type'
231                 SORT_ORDER     =  ASCENDING
7                                                          The SAS System                             19:48 Sunday, October 13, 2013

232                 EMPTY          = '!UNKNOWN';
233        
234              LEVEL NAICS
235                 COLUMN         = naics_code
236                 CAPTION        =  'NAICS Code'
237                 SORT_ORDER     =  ASCENDING
238                 EMPTY          = '!INDIVIDUAL';
239        
240           PROPERTY 'Party Name'n
241              level=PartyNumber
242              column=party_name
243              hierarchy=('Party Type > Party > Account'n
244                         'NAICS Code > Party > Account'n
245                         'Party > Account'n
246                         'Party Number'n
247                         'Type > NAICS > Party > Account'n )
248              caption='Party Name'
249              description='Party Name'
250           ;
251        
252           PROPERTY PartyType
253              level=PartyNumber
254              column=party_type
255              hierarchy=('NAICS Code > Party > Account'n
256                         'Party > Account'n
257                         'Party Number'n )
258              caption='Party Type'
259              description='Party Type'
260           ;
261        
262           PROPERTY 'Account Name'n
263              level=AccountNumber
264              column=account_name
265              hierarchy=('Party Type > Party > Account'n
266                         'NAICS Code > Party > Account'n
267                         'Party > Account'n
268                         'Type > NAICS > Party > Account'n 'Account Number'n )
269              caption='Account Name'
270              description='Account Name'
271           ;
272        
273           PROPERTY 'Account Open Date'n
274              level=AccountNumber
275              column=account_open_date
276              hierarchy=('Party Type > Party > Account'n
277                         'NAICS Code > Party > Account'n
278                         'Party > Account'n
279                         'Type > NAICS > Party > Account'n 'Account Number'n)
280              caption='Account Open Date'
281              description='Account Open Date'
282           ;
283        
284           MEASURE 'Transaction Amount'n
285              STAT        = SUM
286              COLUMN      = transaction_amount
287              CAPTION     = 'Transaction Amount'
288              FORMAT      = DOLLAR24.0
289              DEFAULT;
8                                                          The SAS System                             19:48 Sunday, October 13, 2013

290        
291           MEASURE 'AVG Transaction Amount'n
292              STAT        = AVG
293              COLUMN      = transaction_amount
294              CAPTION     = 'AVG Transaction Amount'
295              FORMAT      = DOLLAR22.2;
296        
297           MEASURE 'Transaction Count'n
298              STAT        = N
299              COLUMN      = transaction_key
300              CAPTION     = 'Transaction Count'
301              FORMAT      = comma22.;
302        
303        run;

TSTLVL: Update enabled version of 9.2.
IN PROGRESS: Initial connection with metadata server
COMPLETED:   Initial connection with metadata server

IN PROGRESS: Initialize cube build
(TSTLVL TIMING)Begin time for cube building: 20H:9M:9S
NOTE: Workpath: "/tmp/SAS_workDAB100002B37_enterprise/SAS_workDCE700002B37_enterprise"
NOTE: The property SAS_MEMBER_DATE was created for level "MonthYear".
NOTE: The property SAS_MEMBER_DATE was created for level "Year".
NOTE: The property SAS_MEMBER_DATE was created for level "Month".
NOTE: TEST_LEVEL (16) is set.
MEMSIZE     = 20971520 KB
REALMEMSIZE = 20971520 KB
SUMSIZE     = 15728640 KB
NOTE: MEMSIZE/REALMEMSIZE settings will determine memory usage for initial summarization.
NOTE: MEMSIZE/REALMEMSIZE settings will determine memory usage for initial summarization.
NOTE: MEMSIZE/REALMEMSIZE settings will determine memory usage for initial summarization.
NOTE: MEMSIZE/REALMEMSIZE settings will determine memory usage for initial summarization.
 
ODBC_5: Prepared: on connection 0
SELECT * FROM public.FACT_TRANSACTIONS
 
 
Summary Statistics for ODBC are:
Total SQL prepare seconds were:                     0.000010
Total SQL describe seconds were:                    0.004460
Total seconds used by the ODBC ACCESS engine were     0.007241
 
NOTE: The internal buffer size was 512K bytes. The number of internal buffers allocated was 10.
NOTE: Multiple concurrent threads will be used to summarize data.
COMPLETED:   Initialize cube build

IN PROGRESS: Initial summarization of input data
 
ODBC_6: Prepared: on connection 0
SELECT  "transaction_date", "transaction_type_key", "location_key", "party_account_key", "transaction_amount", "transaction_key"  
FROM public.FACT_TRANSACTIONS 
 
 
ODBC_7: Executed: on connection 0
Prepared statement ODBC_6
 
NOTE: Input data read is now complete.
9                                                          The SAS System                             19:48 Sunday, October 13, 2013

NOTE: Start reordering the primary types.
NOTE: Reordering the primary types is now complete.
NOTE: Start building subtypes.
NOTE: Subtypes are now complete.
COMPLETED:   Initial summarization of input data

NOTE: Available memory for 'hierarchy' stage: 16746754 KB
NOTE: The files to share memory are 6.
NOTE: Setting memory to 2093344 kb where MEMSIZE and/or REALMEMSIZE set


NOTE: Memory used for star schema index processing determined by MEMSIZE/REALMEMSIZE and is 2093344 kb
Begin time for getting captions for 'Month Year' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:35S
IN PROGRESS: Metadata creation for hierarchy "Month Year"
NOTE: Cardinality for levels in the "Month Year" hierarchy (test_lvl=8):
   MonthYear: 36 


COMPLETED:   Metadata creation for hierarchy "Month Year"

Time to create member caption metadata for 'Month Year' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0024 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

Begin time for getting captions for 'Year > Month' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:35S
IN PROGRESS: Metadata creation for hierarchy "Year > Month"
NOTE: Cardinality for levels in the "Year > Month" hierarchy (test_lvl=8):
   Year: 3 
   Month: 12 


COMPLETED:   Metadata creation for hierarchy "Year > Month"

Time to create member caption metadata for 'Year > Month' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0024 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:35S
IN PROGRESS: Member metadata creation for 'Month Year' hierarchy
NOTE: The total number of members in hierarchy is 37.
Member cardinality  per level in hierarchy:
Level 1: 36 
COMPLETED: Member metadata creation for 'Month Year' hierarchy
Time to create member metadata for 'Month Year' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0020 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:35S
IN PROGRESS: Member metadata creation for 'Year > Month' hierarchy
NOTE: The total number of members in hierarchy is 40.
Member cardinality  per level in hierarchy:
Level 1: 3 
Level 2: 36 
10                                                         The SAS System                             19:48 Sunday, October 13, 2013

COMPLETED: Member metadata creation for 'Year > Month' hierarchy
Time to create member metadata for 'Year > Month' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0136 sec
(TSTLVL TIMING) Systime    : 0.0100 sec
(TSTLVL TIMING) CPUtime    : 0.0100 sec

NOTE: The internal buffer size was 511K bytes. The number of internal buffers allocated was 10.
NOTE: Multiple concurrent threads will be used to summarize data.
IN PROGRESS: Summarizing "Transaction Type" dimension table
 
ODBC_8: Prepared: on connection 0
SELECT  "transaction_type", "transaction_category"  FROM public.DIM_TRANSACTION_TYPE 
 
 
ODBC_9: Executed: on connection 0
Prepared statement ODBC_8
 
NOTE: Input data read is now complete.
NOTE: Start reordering the primary types.
NOTE: Reordering the primary types is now complete.
NOTE: Start building subtypes.
NOTE: Subtypes are now complete.
COMPLETED    Summarizing "Transaction Type" dimension table

Time to summarize 'Transaction Type' dimension table and make room for it:
(TSTLVL TIMING) Clocktime  : 0.0085 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0100 sec

Begin time for getting captions for 'Transaction Type' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:35S
IN PROGRESS: Metadata creation for hierarchy "Transaction Type"
NOTE: Cardinality for levels in the "Transaction Type" hierarchy (test_lvl=8):
   TransactionType: 2 
   TransactionCategory: 10 


COMPLETED:   Metadata creation for hierarchy "Transaction Type"

Time to create member caption metadata for 'Transaction Type' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0025 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:35S
IN PROGRESS: Member metadata creation for 'Transaction Type' hierarchy
NOTE: The total number of members in hierarchy is 16.
Member cardinality  per level in hierarchy:
Level 1: 2 
Level 2: 13 
COMPLETED: Member metadata creation for 'Transaction Type' hierarchy
Time to create member metadata for 'Transaction Type' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0023 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

NOTE: The initial memory limit for classification tables was 15728640K bytes. Actual memory acquired was 128K bytes.
NOTE: The utility file buffer size selected was 64K bytes.
11                                                         The SAS System                             19:48 Sunday, October 13, 2013

NOTE: The internal buffer size was 511K bytes. The number of internal buffers allocated was 10.
NOTE: Multiple concurrent threads will be used to summarize data.
IN PROGRESS: Summarizing "Location" dimension table
 
ODBC_10: Prepared: on connection 0
SELECT  "state", "county", "city"  FROM public.DIM_LOCATION 
 
 
ODBC_11: Executed: on connection 0
Prepared statement ODBC_10
 
NOTE: Input data read is now complete.
NOTE: Start reordering the primary types.
NOTE: Reordering the primary types is now complete.
NOTE: Start building subtypes.
NOTE: Subtypes are now complete.
COMPLETED    Summarizing "Location" dimension table

Time to summarize 'Location' dimension table and make room for it:
(TSTLVL TIMING) Clocktime  : 0.2929 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.2900 sec

Begin time for getting captions for 'Location' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:36S
IN PROGRESS: Metadata creation for hierarchy "Location"
NOTE: Cardinality for levels in the "Location" hierarchy (test_lvl=8):
   State: 39 
   County: 191 
   City: 13844 


COMPLETED:   Metadata creation for hierarchy "Location"

Time to create member caption metadata for 'Location' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.1343 sec
(TSTLVL TIMING) Systime    : 0.0300 sec
(TSTLVL TIMING) CPUtime    : 0.1100 sec

(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:36S
IN PROGRESS: Member metadata creation for 'Location' hierarchy
NOTE: The total number of members in hierarchy is 22334.
Member cardinality  per level in hierarchy:
Level 1: 39 
Level 2: 2297 
Level 3: 19997 
COMPLETED: Member metadata creation for 'Location' hierarchy
Time to create member metadata for 'Location' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0624 sec
(TSTLVL TIMING) Systime    : 0.0100 sec
(TSTLVL TIMING) CPUtime    : 0.0500 sec

NOTE: The initial memory limit for classification tables was 15728640K bytes. Actual memory acquired was 3904K bytes.
NOTE: The utility file buffer size selected was 64K bytes.
NOTE: The internal buffer size was 511K bytes. The number of internal buffers allocated was 10.
NOTE: Multiple concurrent threads will be used to summarize data.
IN PROGRESS: Summarizing "Party Account" dimension table
 
12                                                         The SAS System                             19:48 Sunday, October 13, 2013

ODBC_12: Prepared: on connection 0
SELECT  "party_type", "party_number", "account_number", "naics_code", "party_name", "account_name", "account_open_date"  FROM 
public.DIM_PARTY_ACCOUNT 
 
 
ODBC_13: Executed: on connection 0
Prepared statement ODBC_12
 
NOTE: Input data read is now complete.
NOTE: Start reordering the primary types.
NOTE: Reordering the primary types is now complete.
NOTE: Start building subtypes.
NOTE: Subtypes are now complete.
COMPLETED    Summarizing "Party Account" dimension table

Time to summarize 'Party Account' dimension table and make room for it:
(TSTLVL TIMING) Clocktime  : 7.3324 sec
(TSTLVL TIMING) Systime    : 0.4000 sec
(TSTLVL TIMING) CPUtime    : 8.4200 sec

Begin time for getting captions for 'Party Type > Party > Account' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:43S
IN PROGRESS: Metadata creation for hierarchy "Party Type > Party > Account"
NOTE: Cardinality for levels in the "Party Type > Party > Account" hierarchy (test_lvl=8):
   PartyType: 2 
   PartyNumber: 167814 
   AccountNumber: 176528 


COMPLETED:   Metadata creation for hierarchy "Party Type > Party > Account"

Time to create member caption metadata for 'Party Type > Party > Account' hierarchy:
(TSTLVL TIMING) Clocktime  : 2.3121 sec
(TSTLVL TIMING) Systime    : 0.1200 sec
(TSTLVL TIMING) CPUtime    : 2.2000 sec

Begin time for getting captions for 'NAICS Code > Party > Account' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:45S
IN PROGRESS: Metadata creation for hierarchy "NAICS Code > Party > Account"
NOTE: Cardinality for levels in the "NAICS Code > Party > Account" hierarchy (test_lvl=8):
   NAICS: 102 
   PartyNumber: 167814 
   AccountNumber: 176528 


COMPLETED:   Metadata creation for hierarchy "NAICS Code > Party > Account"

Time to create member caption metadata for 'NAICS Code > Party > Account' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0033 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

Begin time for getting captions for 'Party > Account' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:45S
IN PROGRESS: Metadata creation for hierarchy "Party > Account"
NOTE: Cardinality for levels in the "Party > Account" hierarchy (test_lvl=8):
   PartyNumber: 167814 
   AccountNumber: 176528 
13                                                         The SAS System                             19:48 Sunday, October 13, 2013



COMPLETED:   Metadata creation for hierarchy "Party > Account"

Time to create member caption metadata for 'Party > Account' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0030 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

Begin time for getting captions for 'Party Number' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:45S
IN PROGRESS: Metadata creation for hierarchy "Party Number"
NOTE: Cardinality for levels in the "Party Number" hierarchy (test_lvl=8):
   PartyNumber: 167814 


COMPLETED:   Metadata creation for hierarchy "Party Number"

Time to create member caption metadata for 'Party Number' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0021 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

Begin time for getting captions for 'Type > NAICS > Party > Account' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:45S
IN PROGRESS: Metadata creation for hierarchy "Type > NAICS > Party > Account"
NOTE: Cardinality for levels in the "Type > NAICS > Party > Account" hierarchy (test_lvl=8):
   PartyType: 2 
   NAICS: 102 
   PartyNumber: 167814 
   AccountNumber: 176528 


COMPLETED:   Metadata creation for hierarchy "Type > NAICS > Party > Account"

Time to create member caption metadata for 'Type > NAICS > Party > Account' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0030 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

Begin time for getting captions for 'Account Number' hierarchy: 
(TSTLVL TIMING)Getting captions: 22H:58M:45S
IN PROGRESS: Metadata creation for hierarchy "Account Number"
NOTE: Cardinality for levels in the "Account Number" hierarchy (test_lvl=8):
   AccountNumber: 176528 


COMPLETED:   Metadata creation for hierarchy "Account Number"

Time to create member caption metadata for 'Account Number' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.0020 sec
(TSTLVL TIMING) Systime    : 0.0000 sec
(TSTLVL TIMING) CPUtime    : 0.0000 sec

(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:47S
IN PROGRESS: Member metadata creation for 'Party Type > Party > Account' hierarchy
NOTE: The total number of members in hierarchy is 344345.
Member cardinality  per level in hierarchy:
14                                                         The SAS System                             19:48 Sunday, October 13, 2013

Level 1: 2 
Level 2: 167814 
Level 3: 176528 
COMPLETED: Member metadata creation for 'Party Type > Party > Account' hierarchy
Time to create member metadata for 'Party Type > Party > Account' hierarchy:
(TSTLVL TIMING) Clocktime  : 1.5485 sec
(TSTLVL TIMING) Systime    : 0.0900 sec
(TSTLVL TIMING) CPUtime    : 1.4500 sec

(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:49S
IN PROGRESS: Member metadata creation for 'NAICS Code > Party > Account' hierarchy
NOTE: The total number of members in hierarchy is 344445.
Member cardinality  per level in hierarchy:
Level 1: 102 
Level 2: 167814 
Level 3: 176528 
COMPLETED: Member metadata creation for 'NAICS Code > Party > Account' hierarchy
Time to create member metadata for 'NAICS Code > Party > Account' hierarchy:
(TSTLVL TIMING) Clocktime  : 1.8729 sec
(TSTLVL TIMING) Systime    : 0.1200 sec
(TSTLVL TIMING) CPUtime    : 1.8700 sec

(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:51S
IN PROGRESS: Member metadata creation for 'Party > Account' hierarchy
NOTE: The total number of members in hierarchy is 344343.
Member cardinality  per level in hierarchy:
Level 1: 167814 
Level 2: 176528 
COMPLETED: Member metadata creation for 'Party > Account' hierarchy
Time to create member metadata for 'Party > Account' hierarchy:
(TSTLVL TIMING) Clocktime  : 1.3098 sec
(TSTLVL TIMING) Systime    : 0.1200 sec
(TSTLVL TIMING) CPUtime    : 1.2600 sec

(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:52S
IN PROGRESS: Member metadata creation for 'Party Number' hierarchy
NOTE: The total number of members in hierarchy is 167815.
Member cardinality  per level in hierarchy:
Level 1: 167814 
COMPLETED: Member metadata creation for 'Party Number' hierarchy
Time to create member metadata for 'Party Number' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.3983 sec
(TSTLVL TIMING) Systime    : 0.0300 sec
(TSTLVL TIMING) CPUtime    : 0.3700 sec

(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:53S
IN PROGRESS: Member metadata creation for 'Type > NAICS > Party > Account' hierarchy
NOTE: The total number of members in hierarchy is 344447.
Member cardinality  per level in hierarchy:
Level 1: 2 
Level 2: 102 
Level 3: 167814 
Level 4: 176528 
COMPLETED: Member metadata creation for 'Type > NAICS > Party > Account' hierarchy
Time to create member metadata for 'Type > NAICS > Party > Account' hierarchy:
(TSTLVL TIMING) Clocktime  : 2.0646 sec
(TSTLVL TIMING) Systime    : 0.1400 sec
(TSTLVL TIMING) CPUtime    : 2.0300 sec
15                                                         The SAS System                             19:48 Sunday, October 13, 2013


(TSTLVL TIMING)Begin creating member metadata for hierarchy: 22H:58M:55S
IN PROGRESS: Member metadata creation for 'Account Number' hierarchy
NOTE: The total number of members in hierarchy is 176529.
Member cardinality  per level in hierarchy:
Level 1: 176528 
COMPLETED: Member metadata creation for 'Account Number' hierarchy
Time to create member metadata for 'Account Number' hierarchy:
(TSTLVL TIMING) Clocktime  : 0.4197 sec
(TSTLVL TIMING) Systime    : 0.0200 sec
(TSTLVL TIMING) CPUtime    : 0.3900 sec

NOTE: The initial memory limit for classification tables was 15728640K bytes. Actual memory acquired was 163648K bytes.
NOTE: The utility file buffer size selected was 64K bytes.
NOTE: The initial memory limit for classification tables was 15728640K bytes. Actual memory acquired was 128K bytes.
NOTE: The utility file buffer size selected was 64K bytes.
IN PROGRESS: Disking cube metadata files
COMPLETED:   Disking cube metadata files

IN PROGRESS: Cube registration with metadata server
COMPLETED:   Cube registration with metadata server

IN PROGRESS: Finalizing cube build
 
Summary Statistics for ODBC are:
Total row fetch seconds were:                     10112.027746
Total SQL execution seconds were:                   0.000004
Total SQL prepare seconds were:                     0.000025
Total SQL describe seconds were:                    0.025775
Total seconds used by the ODBC ACCESS engine were   10191.769629
 
 
Summary Statistics for ODBC are:
Total row fetch seconds were:                       0.000344
Total SQL execution seconds were:                   0.000005
Total SQL prepare seconds were:                     0.000025
Total SQL describe seconds were:                    0.014098
Total seconds used by the ODBC ACCESS engine were   10191.717264
 
 
Summary Statistics for ODBC are:
Total row fetch seconds were:                       0.254082
Total SQL execution seconds were:                   0.000004
Total SQL prepare seconds were:                     0.000022
Total SQL describe seconds were:                    0.007855
Total seconds used by the ODBC ACCESS engine were   10191.690156
 
 
Summary Statistics for ODBC are:
Total row fetch seconds were:                       5.820024
Total SQL execution seconds were:                   0.000003
Total SQL prepare seconds were:                     0.000027
Total SQL describe seconds were:                    0.009536
Total seconds used by the ODBC ACCESS engine were   10191.670228
 
COMPLETED:   Finalizing cube build

Total time to build cube:
16                                                         The SAS System                             19:48 Sunday, October 13, 2013

(TSTLVL TIMING) Clocktime  : 10191.4947 sec
(TSTLVL TIMING) Systime    : 76.7300 sec
(TSTLVL TIMING) CPUtime    : 11170.7100 sec

(TSTLVL TIMING)Time cube build completed: 22H:59M:1S
NOTE: Cube "Transaction Summary" was created successfully.
NOTE: PROCEDURE OLAP used (Total process time):
      real time           2:49:51.80
      user cpu time       3:06:10.89
      system cpu time     1:16.81
      memory              495978.64k
      OS Memory           566392.00k
      Timestamp           10/14/2013 10:59:00 PM
      Step Count                        24  Switch Count  2079
      Page Faults                       12
      Page Reclaims                     180482
      Page Swaps                        0
      Voluntary Context Switches        1029107
      Involuntary Context Switches      686054
      Block Input Operations            2816
      Block Output Operations           905712
      

304        
305        %errorcheck;
Current SYSCC = 0
306        %put ******** Define MDX *********;
******** Define MDX *********
307        proc olap;
308        
309           METASVR
310              HOST        = "enterprise"
311              PORT        = 8561
312              OLAP_SCHEMA = "SASApp - OLAP Schema";
313        
314           /* Rolling month sets */
315           DEFINE SET '[Transaction Summary].[Latest Month]' as 'Tail([Transaction Date].[Month Year].[MonthYear].members,1)';
316           DEFINE SET '[Transaction Summary].[Rolling 3 Months]' as 'Tail([Transaction Date].[Month Year].[MonthYear].members,3)'
316      ! ;
317           DEFINE SET '[Transaction Summary].[Rolling 6 Months]' as 'Tail([Transaction Date].[Month Year].[MonthYear].members,6)'
317      ! ;
318           DEFINE SET '[Transaction Summary].[Rolling 12 Months]' as 'Tail([Transaction Date].[Month
318      ! Year].[MonthYear].members,12)';
319           DEFINE SET '[Transaction Summary].[Rolling 13 Months]' as 'Tail([Transaction Date].[Month
319      ! Year].[MonthYear].members,13)';
320           DEFINE SET '[Transaction Summary].[Rolling 18 Months]' as 'Tail([Transaction Date].[Month
320      ! Year].[MonthYear].members,18)';
321           DEFINE SET '[Transaction Summary].[Rolling 24 Months]' as 'Tail([Transaction Date].[Month
321      ! Year].[MonthYear].members,24)';
322        
323           /* Rolling time aggregate members */
324           DEFINE MEMBER '[Transaction Summary].[Transaction Date].[All Years].[Rolling 3 Months]' as 'Aggregate(
324      ! Tail([Transaction Date].[Month Year].[MonthYear].members,3 ))';
325           DEFINE MEMBER '[Transaction Summary].[Transaction Date].[All Years].[Rolling 6 Months]' as 'Aggregate(
325      ! Tail([Transaction Date].[Month Year].[MonthYear].members,6 ))';
326           DEFINE MEMBER '[Transaction Summary].[Transaction Date].[All Years].[Rolling 12 Months]' as 'Aggregate(
326      ! Tail([Transaction Date].[Month Year].[MonthYear].members,12 ))';
327           DEFINE MEMBER '[Transaction Summary].[Transaction Date].[All Years].[Rolling 18 Months]' as 'Aggregate(
17                                                         The SAS System                             19:48 Sunday, October 13, 2013

327      ! Tail([Transaction Date].[Month Year].[MonthYear].members,18 ))';
328           DEFINE MEMBER '[Transaction Summary].[Transaction Date].[All Years].[Rolling 24 Months]' as 'Aggregate(
328      ! Tail([Transaction Date].[Month Year].[MonthYear].members,24 ))';
329        
330           DEFINE SET '[Transaction Summary].[Rolling 3 Months Plus Summary]' as '
331              {
332                 [Rolling 3 Months],
333                 [Transaction Date].[All Years].[Rolling 3 Months],
334                 [Transaction Date].[All Years].[Rolling 6 Months],
335                 [Transaction Date].[All Years].[Rolling 12 Months],
336                 [Transaction Date].[All Years].[Rolling 18 Months]
337              }';
338        
339           DEFINE SET '[Transaction Summary].[Rolling 6 Months Plus Summary]' as '
340              {
341                 [Rolling 6 Months],
342                 [Transaction Date].[All Years].[Rolling 3 Months],
343                 [Transaction Date].[All Years].[Rolling 6 Months],
344                 [Transaction Date].[All Years].[Rolling 12 Months],
345                 [Transaction Date].[All Years].[Rolling 18 Months]
346              }';
347        
348           DEFINE SET '[Transaction Summary].[Rolling 12 Months Plus Summary]' as '
349              {
350                 [Rolling 12 Months],
351                 [Transaction Date].[All Years].[Rolling 3 Months],
352                 [Transaction Date].[All Years].[Rolling 6 Months],
353                 [Transaction Date].[All Years].[Rolling 12 Months],
354                 [Transaction Date].[All Years].[Rolling 18 Months]
355              }';
356        
357           DEFINE SET '[Transaction Summary].[Summary Month Totals]' as '
358              {
359                 [Transaction Date].[All Years].[Rolling 3 Months],
360                 [Transaction Date].[All Years].[Rolling 6 Months],
361                 [Transaction Date].[All Years].[Rolling 12 Months],
362                 [Transaction Date].[All Years].[Rolling 18 Months]
363              }';
364        
365           /**************** Peer Comparison using NAICS codes *********************/
366           DEFINE MEMBER '[Transaction Summary].[Measures].[AVG NAICS Amt]' AS
367            '([Party Account].[NAICS Code > Party > Account].CurrentMember.Parent,[Measures].[AVG Transaction Amount]),
367      ! SOLVE_ORDER=0, format_string="dollar20.2"';
368            /** TODO: add MDX to be dynamic on multiple hierarchies for better analysis */
369        
370           DEFINE MEMBER '[Transaction Summary].[Measures].[Diff NAICS AVG Amt]' AS
371            '([Measures].[AVG Transaction Amount] - [Measures].[AVG NAICS Amt]), SOLVE_ORDER=1, format_string="dollar20.2"';
372        
373           DEFINE MEMBER '[Transaction Summary].[Measures].[%Diff NAICS AVG Trans Amt]' AS
374            '[Measures].[Diff NAICS AVG Amt] / [Measures].[AVG NAICS Amt], SOLVE_ORDER=2, format_string="NLPCT8.2"';
375        
376           DEFINE SET '[Transaction Summary].[Party Comparison by NAICS]' as '[Party Account].[NAICS Code > Party >
376      ! Account].[PartyNumber].Members';
377           /** TODO: add MDX to remove parties with no NAICS code (individuals). Use the EXCEPT() function or minus operator */
378        
379           /***************** Peer Comparison using Party Type ******************/
380           DEFINE MEMBER '[Transaction Summary].[Measures].[AVG Party Type Amt]' AS
381            '([Party Account].[Party Type > Party > Account].CurrentMember.Parent,[Measures].[AVG Transaction Amount]),
18                                                         The SAS System                             19:48 Sunday, October 13, 2013

381      ! SOLVE_ORDER=0, format_string="dollar20.2"';
382        
383           DEFINE MEMBER '[Transaction Summary].[Measures].[Diff Party Type AVG Amt]' AS
384            '([Measures].[AVG Transaction Amount] - [Measures].[AVG Party Type Amt]), SOLVE_ORDER=1, format_string="dollar20.2"';
385        
386           DEFINE MEMBER '[Transaction Summary].[Measures].[%Diff Party Type AVG Trans Amt]' AS
387            '[Measures].[Diff Party Type AVG Amt] / [Measures].[AVG Party Type Amt], SOLVE_ORDER=2, format_string="NLPCT8.2"';
388        
389           DEFINE SET '[Transaction Summary].[Party Comparison by Type]' as '[Party Account].[Party Type > Party >
389      ! Account].[PartyNumber].Members';
390        
391           /* Rolling Averages */
392           DEFINE MEMBER '[Transaction Summary].[Measures].[AVG Trans Amt 3M Rolling]' AS
393                'Avg(LastPeriods(3,[Transaction Date].[Month Year].CurrentMember),[Measures].[AVG Transaction Amount])';
394           DEFINE MEMBER '[Transaction Summary].[Measures].[AVG Trans Amt 6M Rolling]' AS
395                'Avg(LastPeriods(6,[Transaction Date].[Month Year].CurrentMember),[Measures].[AVG Transaction Amount])';
396           DEFINE MEMBER '[Transaction Summary].[Measures].[AVG Trans Amt 12M Rolling]' AS
397                'Avg(LastPeriods(12,[Transaction Date].[Month Year].CurrentMember),[Measures].[AVG Transaction Amount])';
398        
399           /* Percent Change */
400           DEFINE MEMBER '[Transaction Summary].[Measures].[%Change Trans Amt]' AS
401             '(([Transaction Date].[Month Year].CurrentMember,[Measures].[Transaction Amount])-([Transaction Date].[Month
401      ! Year].CurrentMember.PrevMember,[Measures].[Transaction Amount]))/([Transaction Date].[Month
401      ! Year].CurrentMember.PrevMember,[Measures].[Transaction Amount]), format_string="percent14.2"';
402           DEFINE MEMBER '[Transaction Summary].[Measures].[%Change Trans Count]' AS
403             '(([Transaction Date].[Month Year].CurrentMember,[Measures].[Transaction Count])-([Transaction Date].[Month
403      ! Year].CurrentMember.PrevMember,[Measures].[Transaction Count]))/([Transaction Date].[Month
403      ! Year].CurrentMember.PrevMember,[Measures].[Transaction Count]), format_string="percent14.2"';
404        
405        run;

NOTE: OLAP_SESSION| _DISARM|         STOP| _DISARM| 2013-10-14T22:59:01,096-04:00| _DISARM| OLAP_SERVER| _DISARM| SAS| _DISARM| | 
      _DISARM| | _DISARM| 26632192| _DISARM| 13| _DISARM| 23| _DISARM| 8| _DISARM| 79479184| _DISARM| 0.010000| _DISARM| 0.010740| 
      _DISARM| 1697425141.085646| _DISARM| 1697425141.096386| _DISARM| 0.010000| _DISARM| | _ENDDISARM 
NOTE: Processing of all DEFINE and UNDEFINE statements is completed.
NOTE: All DEFINE and UNDEFINE statements processed successfully.
NOTE: PROCEDURE OLAP used (Total process time):
      real time           3.54 seconds
      user cpu time       1.60 seconds
      system cpu time     0.83 seconds
      memory              171160.48k
      OS Memory           193488.00k
      Timestamp           10/14/2013 10:59:04 PM
      Step Count                        25  Switch Count  494
      Page Faults                       0
      Page Reclaims                     41728
      Page Swaps                        0
      Voluntary Context Switches        4088
      Involuntary Context Switches      4792
      Block Input Operations            250928
      Block Output Operations           80
      

406        
407        %errorcheck;
Current SYSCC = 0
408        %put ******* Build Performance Aggregates *******;
******* Build Performance Aggregates *******
19                                                         The SAS System                             19:48 Sunday, October 13, 2013

409        /* Base level aggregates  */
410        proc olap
411           CUBE= "&cube"
412           CONCURRENT             = 4
413           ASYNCINDEXLIMIT        = 2
414           MAXTHREADS             = 2
415           TEST_LEVEL             = 26;
416        
417           METASVR
418              HOST        = "enterprise"
419              PORT        = 8561
420              OLAP_SCHEMA = "SASApp - OLAP Schema";
421        
422           AGGREGATION MonthYear TransactionType TransactionCategory PartyType NAICS PartyNumber AccountNumber
423              / NAME      = 'Base Reporting 1';
424           AGGREGATION MonthYear  State County City PartyType NAICS PartyNumber AccountNumber
425              / NAME      = 'Base Reporting 2';
426           AGGREGATION Year Month TransactionType TransactionCategory PartyType NAICS PartyNumber AccountNumber
427              / NAME      = 'Base Reporting 3';
428           AGGREGATION Year Month  State County City PartyType NAICS PartyNumber AccountNumber
429              / NAME      = 'Base Reporting 4';
430        
431        run;

TSTLVL: Update enabled version of 9.2.
NOTE: Workpath: "/tmp/SAS_workDAB100002B37_enterprise/SAS_workDCE700002B37_enterprise"
NOTE: TEST_LEVEL (16) is set.
MEMSIZE     = 20971520 KB
REALMEMSIZE = 20971520 KB
SUMSIZE     = 15728640 KB
NOTE: Available memory for 'hierarchy' stage: 16756447 KB
NOTE: The files to share memory are 6.
NOTE: Setting memory to 2094555 kb where MEMSIZE and/or REALMEMSIZE set


NOTE: Memory used for star schema index processing determined by MEMSIZE/REALMEMSIZE and is 2094555 kb
IN PROGRESS: Subaggregation creation
(TSTLVL TIMING)Begin time for making subaggregations: :22H:59M:13S
NOTE: Memory to make aggregations set to 16363 MB.
NOTE: Setting number of aggregations to create in parallel equal to 1.
NOTE: Setting the limit on the number of indexes that may be created asynchronously to 2.
         ERROR: An error has occurred.
ERROR: The server encountered an error while processing or executing SQL against a source data table. If the data source issued a 
more specific error it will appear in conjunction with this message:
NOTE: Processing of all cube aggregations is completed.
(TSTLVL TIMING)End time for making subaggregations: :1H:23M:56S
COMPLETED:   Subaggregation creation
(TSTLVL TIMING) Clocktime  : 8683.7246 sec
(TSTLVL TIMING) Systime    : 107.0100 sec
(TSTLVL TIMING) CPUtime    : 8299.4100 sec

ERROR: A failure occurred as a result of a problem in creating cube aggregations.
ERROR: New aggregations cannot be created for the existing cube. All AGGREGATION statements will be ignored. 

ERROR: An error was encountered while deleting or adding aggregations for the "Transaction Summary" cube.
WARNING: No aggregations have been added to or deleted from the "Transaction Summary" cube.

NOTE: The SAS System stopped processing this step because of errors.
20                                                         The SAS System                             19:48 Sunday, October 13, 2013

NOTE: PROCEDURE OLAP used (Total process time):
      real time           2:24:52.03
      user cpu time       2:18:19.42
      system cpu time     1:49.32
      memory              8004690.40k
      OS Memory           8029264.00k
      Timestamp           10/15/2013 01:23:56 AM
      Step Count                        26  Switch Count  265
      Page Faults                       42
      Page Reclaims                     2001033
      Page Swaps                        0
      Voluntary Context Switches        1096705
      Involuntary Context Switches      517237
      Block Input Operations            1766016
      Block Output Operations           18251032
      
432        
433        %errorcheck;
Current SYSCC = 1012
*********** ERRORS/WARNINGS DETECTED: ABORTING **********
ERROR: Execution canceled by an %ABORT CANCEL statement.
NOTE: The SAS System stopped processing due to receiving a CANCEL request.
